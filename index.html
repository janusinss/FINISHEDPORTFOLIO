<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Janus Dominic - Creative Developer</title>
    <meta name="description"
        content="Janus Dominic - Creative Full-Stack Developer. Interactive 3D portfolio built with WebGL, Three.js, and GSAP.">
    <meta name="keywords"
        content="Janus Dominic, Web Developer, Creative Developer, Three.js, WebGL, Portfolio, PHP, React">
    <meta name="author" content="Janus Dominic">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://your-portfolio-url.com/">
    <meta property="og:title" content="Janus Dominic | Creative Developer">
    <meta property="og:description"
        content="Interactive 3D portfolio featuring WebGL physics, fluid simulations, and cinematic UI.">
    <meta property="og:image" content="https://your-portfolio-url.com/og-image.jpg">

    <link rel="icon"
        href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚡</text></svg>">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/studio-freight/lenis@1.0.29/bundled/lenis.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="fixed top-0 left-0 h-[4px] z-[9002] transition-all duration-100 ease-out" id="scroll-progress"
        style="width: 0%"></div>

    <div class="film-grain"></div>

    <div id="preloader"
        class="fixed inset-0 z-[9999] bg-[#050505] flex flex-col items-center justify-center font-mono text-xs sm:text-sm text-secondary overflow-hidden">
        <div class="crt-overlay"></div>
        <div id="tv-flash" class="tv-flash"></div>

        <div class="w-64 sm:w-80 relative z-10">
            <div class="flex justify-between mb-4 border-b border-gray-800/50 pb-2 opacity-70">
                <span>SYSTEM_BOOT.exe</span>
                <span>V 2.4.0</span>
            </div>
            <div id="boot-logs"
                class="h-32 overflow-hidden flex flex-col justify-end mb-4 text-gray-400 leading-tight font-bold"></div>

            <div class="w-full h-[2px] bg-gray-800/50 mt-2 relative overflow-hidden">
                <div id="loader-bar" class="absolute top-0 left-0 h-full w-0"></div>
            </div>
        </div>
    </div>

    <canvas id="webgl-canvas"></canvas>
    <div id="cursor"></div>

    <div class="side-nav">
        <button id="theme-dark" onclick="setTheme('dark')" class="theme-toggle">DARK</button>
        <button id="theme-light" onclick="setTheme('light')" class="theme-toggle active">WARM</button>
    </div>

    <button id="admin-btn">ADMIN</button>

    <button id="mute-btn" onclick="toggleMute()">SND</button>

    <div class="content-wrapper">
        <header class="px-6 lg:px-16 py-8 lg:py-12 min-h-screen flex flex-col justify-center relative z-10">
            <div class="max-w-7xl mx-auto w-full grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <div>
                    <h1 class="text-5xl lg:text-8xl font-bold mb-4 tracking-tighter mix-blend-difference" data-scramble>
                        Janus Dominic</h1>
                    <p class="text-lg lg:text-2xl text-secondary font-light mb-12 font-mono" id="professional-title">
                        Full-Stack Developer</p>

                    <nav class="flex gap-8 text-sm font-medium tracking-widest uppercase">
                        <a href="#projects" class="nav-item">Projects</a>
                        <a href="#info" class="nav-item">Info</a>
                        <a href="#contact" class="nav-item">Contact</a>
                    </nav>
                </div>
                <div class="hidden lg:block h-full"></div>
            </div>
        </header>

        <main class="px-6 lg:px-16 pb-32">
            <div class="max-w-7xl mx-auto">

                <section class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-32">
                    <div class="lg:col-start-2">
                        <p class="text-lg lg:text-xl font-light leading-relaxed mb-8" id="bio-text">Loading...</p>
                        <div class="flex gap-6">
                            <a href="#contact" class="btn-minimal">Contact Me</a>
                            <a href="#projects" class="btn-minimal">View Work</a>
                        </div>
                    </div>
                </section>

                <section id="projects" class="mb-32">
                    <div class="flex items-center justify-between mb-12">
                        <h2 class="section-title mb-0" data-scramble>Selected Projects</h2>
                        <div class="section-controls">
                            <button class="admin-action-btn edit-btn" onclick="openAddModal('project')">+ ADD
                                PROJECT</button>
                        </div>
                    </div>
                    <div id="projects-grid" class="grid grid-cols-1 lg:grid-cols-2 gap-8"></div>
                </section>

                <section id="skills" class="mb-32">
                    <div class="flex items-center justify-between mb-12">
                        <h2 class="section-title mb-0" data-scramble>Technical Arsenal</h2>
                        <div class="section-controls">
                            <button class="admin-action-btn edit-btn" onclick="openAddModal('skill')">+ ADD
                                SKILL</button>
                        </div>
                    </div>
                    <div id="skills-container" class="flex flex-wrap gap-3"></div>
                </section>

                <section id="hobbies" class="mb-32">
                    <div class="flex items-center justify-between mb-12">
                        <h2 class="section-title mb-0" data-scramble>Interests & Hobbies</h2>
                        <div class="section-controls">
                            <button class="admin-action-btn edit-btn" onclick="openAddModal('hobby')">+ ADD
                                HOBBY</button>
                        </div>
                    </div>
                    <div id="hobbies-list" class="grid grid-cols-1 md:grid-cols-2 gap-6"></div>
                </section>

                <section id="info" class="mb-32">
                    <h2 class="section-title" data-scramble>Background</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-16">
                        <div class="space-y-12">
                            <div>
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xs font-mono text-accent uppercase tracking-wider mb-0">Experience
                                    </h3>
                                    <div class="section-controls">
                                        <button class="admin-action-btn edit-btn text-[10px]"
                                            onclick="openAddModal('experience')">+ ADD</button>
                                    </div>
                                </div>
                                <div id="experience-list" class="space-y-6"></div>
                            </div>
                            <div>
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xs font-mono text-accent uppercase tracking-wider mb-0">Education
                                    </h3>
                                    <div class="section-controls">
                                        <button class="admin-action-btn edit-btn text-[10px]"
                                            onclick="openAddModal('education')">+ ADD</button>
                                    </div>
                                </div>
                                <div id="education-list" class="space-y-6"></div>
                            </div>
                        </div>
                        <div class="space-y-12">
                            <div>
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xs font-mono text-accent uppercase tracking-wider mb-0">
                                        Certifications</h3>
                                    <div class="section-controls">
                                        <button class="admin-action-btn edit-btn text-[10px]"
                                            onclick="openAddModal('certification')">+ ADD</button>
                                    </div>
                                </div>
                                <div id="certifications-list" class="space-y-6"></div>
                            </div>
                            <div>
                                <div class="flex items-center justify-between mb-6">
                                    <h3 class="text-xs font-mono text-accent uppercase tracking-wider mb-0">Achievements
                                    </h3>
                                    <div class="section-controls">
                                        <button class="admin-action-btn edit-btn text-[10px]"
                                            onclick="openAddModal('achievement')">+ ADD</button>
                                    </div>
                                </div>
                                <div id="achievements-list" class="space-y-6"></div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="contact" class="min-h-[50vh] flex flex-col justify-center">
                    <h2 class="section-title" data-scramble>Initialize Handshake</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                        <div>
                            <p class="text-secondary mb-8 font-light">Ready to build something impossible? Send me a
                                transmission.</p>
                            <div class="space-y-4 text-sm font-mono" id="contact-info"></div>
                        </div>
                        <form id="contact-form" class="space-y-4">
                            <div id="form-message" class="hidden p-3 text-sm rounded"></div>
                            <div class="grid grid-cols-2 gap-4">
                                <input type="text" name="visitor_name" placeholder="NAME" required
                                    class="w-full p-4 text-sm">
                                <input type="email" name="visitor_email" placeholder="EMAIL" required
                                    class="w-full p-4 text-sm">
                            </div>
                            <input type="text" name="subject" placeholder="SUBJECT" class="w-full p-4 text-sm">
                            <textarea name="message" rows="4" placeholder="MESSAGE" required
                                class="w-full p-4 text-sm resize-none"></textarea>
                            <button type="submit"
                                class="btn-minimal w-full py-4 text-xs tracking-[0.2em] uppercase">Transmit</button>
                        </form>
                    </div>
                </section>
            </div>
        </main>

        <footer class="px-6 py-8 border-t border-gray-800/50 mt-12">
            <div
                class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center text-xs font-mono text-secondary/60 gap-4">
                <div class="flex items-center gap-2"><span>&copy; <span id="footer-year">2024</span> JANUS
                        DOMINIC</span></div>
                <div class="flex items-center gap-6">
                    <div class="flex items-center"><span class="status-dot"></span><span>SYSTEM ONLINE</span></div>
                    <div class="hidden md:block">UPTIME: <span id="system-uptime" class="text-accent">00:00:00</span>
                    </div>
                    <div>LOC: <span class="text-accent">PHILIPPINES</span></div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        let scene, camera, renderer, mesh, heroGroup;
        let heroMaterials = { planet: null, ringInner: null, ringMiddle: null, ringOuter: null, particles: null };
        let lights = { ambient: null, point: null, rim: null };
        let isDark = localStorage.getItem('theme') === 'dark';
        let mouseX = 0.5, mouseY = 0.5, targetX = 0.5, targetY = 0.5;

        function initWebGL() {
            const canvas = document.getElementById('webgl-canvas');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 15;

            renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 1.5));

            // === BACKGROUND SHADER (VELOCITY RGB SHIFT) ===
            const material = new THREE.ShaderMaterial({
                uniforms: {
                    u_time: { value: 0 },
                    u_mouse: { value: new THREE.Vector2(0.5, 0.5) },
                    u_resolution: { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
                    u_dark: { value: isDark ? 1.0 : 0.0 },
                    u_scroll: { value: 0.0 },
                    u_rgbShift: { value: 0.0 } // Velocity variable
                },
                vertexShader: `
                varying vec2 vUv;
                void main() {
                    vUv = uv;
                    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
                }
            `,
                fragmentShader: `
                uniform float u_time;
                uniform vec2 u_mouse;
                uniform vec2 u_resolution;
                uniform float u_dark;
                uniform float u_scroll;
                uniform float u_rgbShift; // <--- THE NEW VELOCITY VARIABLE
                varying vec2 vUv;

                // === NOISE FUNCTIONS ===
                float random(vec2 st) { return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123); }
                float grain(vec2 uv) { return random(uv + mod(u_time, 10.0)) * 0.08; }
                float noise(vec2 st) {
                    vec2 i = floor(st); vec2 f = fract(st);
                    float a = random(i); float b = random(i + vec2(1.0, 0.0));
                    float c = random(i + vec2(0.0, 1.0)); float d = random(i + vec2(1.0, 1.0));
                    vec2 u = f * f * (3.0 - 2.0 * f);
                    return mix(a, b, u.x) + (c - a)* u.y * (1.0 - u.x) + (d - b) * u.x * u.y;
                }
                float fbm(vec2 st) {
                    float value = 0.0; float amp = 0.5;
                    for (int i = 0; i < 4; i++) { value += amp * noise(st); st *= 2.0; amp *= 0.5; }
                    return value;
                }
                vec3 palette(float t, vec3 a, vec3 b, vec3 c, vec3 d) { return a + b * cos(6.28318 * (c * t + d)); }

                // === CORE LIQUID LOGIC (Refactored for RGB Split) ===
                float getPattern(vec2 st, float time) {
                    vec2 q = vec2(0.); 
                    q.x = fbm(st + 0.00 * time); 
                    q.y = fbm(st + vec2(1.0));
                    
                    vec2 r = vec2(0.); 
                    r.x = fbm(st + 1.0 * q + vec2(1.7, 9.2) + 0.15 * time);
                    r.y = fbm(st + 1.0 * q + vec2(8.3, 2.8) + 0.126 * time);
                    
                    return fbm(st + r);
                }

                vec3 getThemeColor(float f, float dark) {
                    // Warm Mode (Gold/Bronze)
                    vec3 goldBg = mix(vec3(0.1, 0.08, 0.06), vec3(0.2, 0.18, 0.15), clamp(f*f*4.0, 0.0, 1.0)); 
                    // Dark Mode (Deep Navy/Cyan)
                    vec3 cyanBg = mix(vec3(0.098, 0.094, 0.231), vec3(0.439, 0.537, 0.576), clamp(f*f*4.0, 0.0, 1.0));
                    
                    return mix(goldBg, cyanBg, dark);
                }

                void main() {
                    vec2 st = vUv;
                    float aspect = u_resolution.x / u_resolution.y;
                    st.x *= aspect;
                    st.y -= u_scroll * 0.5; 

                    vec2 mouse = u_mouse;
                    mouse.x *= aspect;

                    // === 1. CHROMATIC ABERRATION (The Glitch) ===
                    // We calculate the pattern 3 separate times with offsets based on scroll speed
                    float shift = u_rgbShift * 0.03; // Multiplier for intensity

                    // Red Channel (Shifted Left)
                    float fR = getPattern(st + vec2(shift, 0.0), u_time);
                    vec3 cR = getThemeColor(fR, u_dark);

                    // Green Channel (Center - Anchor)
                    float fG = getPattern(st, u_time);
                    vec3 cG = getThemeColor(fG, u_dark);

                    // Blue Channel (Shifted Right)
                    float fB = getPattern(st - vec2(shift, 0.0), u_time);
                    vec3 cB = getThemeColor(fB, u_dark);

                    // Combine into final image
                    vec3 color = vec3(cR.r, cG.g, cB.b);

                    // === 2. RIPPLE EFFECT ===
                    vec2 diff = st - mouse; 
                    diff.y *= 1.85;
                    float d = length(diff); 
                    float influence = smoothstep(0.8, 0.0, d);
                    
                    vec3 a, b, c, dParam; 
                    float glowAmount;
                    if (u_dark > 0.5) {
                         a = vec3(0.5); b = vec3(0.5); c = vec3(1.0); dParam = vec3(0.631, 0.760, 0.741); 
                         glowAmount = 1.5;
                    } else {
                         a = vec3(0.5); b = vec3(0.5); c = vec3(1.0); dParam = vec3(0.50, 0.40, 0.20); 
                         glowAmount = 1.5;
                    }

                    vec3 rippleColor = palette(d * 3.0 - u_time * 0.5, a, b, c, dParam);
                    rippleColor = mix(rippleColor, vec3(1.0), glowAmount);
                    
                    color += rippleColor * (sin(d * 12.0 - u_time * 2.5) * 0.5 + 0.5) * influence * 0.04;
                    
                    // === 3. FILM GRAIN ===
                    color += vec3(grain(vUv) * 0.6);

                    gl_FragColor = vec4(color, 1.0);
                }
            `
            });

            const geometry = new THREE.PlaneGeometry(20, 20, 1, 1);
            mesh = new THREE.Mesh(geometry, material);
            scene.add(mesh);

            createHeroObject();

            lights.ambient = new THREE.AmbientLight(0xffffff, 0.5); scene.add(lights.ambient);
            lights.point = new THREE.PointLight(0xffffff, 2); lights.point.position.set(5, 5, 5); scene.add(lights.point);
            lights.rim = new THREE.SpotLight(0xffffff, 5, 20, 0.5, 0.5, 1); lights.rim.position.set(-2, 4, 0); lights.rim.lookAt(3.5, 0, 0); scene.add(lights.rim);

            updateHeroTheme(isDark);
            setupScrollAnimation();

            // SCROLL VELOCITY TRACKER
            let lastScrollY = 0;
            let targetVel = 0;
            let currentVel = 0;

            function animate() {
                requestAnimationFrame(animate);
                mouseX += (targetX - mouseX) * 0.05; mouseY += (targetY - mouseY) * 0.05;

                // UPDATE SHADER UNIFORMS
                material.uniforms.u_time.value += 0.01;
                material.uniforms.u_mouse.value.set(mouseX, mouseY);

                // VELOCITY DECAY FOR RGB SHIFT
                currentVel += (targetVel - currentVel) * 0.1;
                material.uniforms.u_rgbShift.value = currentVel;
                targetVel *= 0.9; // Decay back to 0

                if (heroGroup) {
                    const t = material.uniforms.u_time.value;
                    heroGroup.children[0].rotation.y = t * 0.05; heroGroup.children[0].rotation.z = Math.sin(t * 0.5) * 0.05;
                    heroGroup.children[1].children[0].rotation.z = t * 0.1;
                    heroGroup.children[1].children[1].rotation.z = t * -0.02;
                    heroGroup.children[1].children[2].rotation.z = t * 0.05;
                    heroGroup.position.y += Math.sin(t) * 0.002;
                }
                renderer.render(scene, camera);
            }
            animate();

            document.addEventListener('mousemove', e => { targetX = e.clientX / window.innerWidth; targetY = 1.0 - (e.clientY / window.innerHeight); });

            // SCROLL LISTENER
            window.addEventListener('scroll', () => {
                const maxScroll = document.body.scrollHeight - window.innerHeight;
                const scrollPct = window.scrollY / maxScroll;
                material.uniforms.u_scroll.value = scrollPct;

                const progressBar = document.getElementById('scroll-progress');
                if (progressBar) progressBar.style.width = `${scrollPct * 100}%`;

                // CALCULATE VELOCITY
                const v = Math.abs(window.scrollY - lastScrollY);
                targetVel = Math.min(v * 0.05, 0.5); // Cap at 0.5 intensity
                lastScrollY = window.scrollY;
            });

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight; camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight); material.uniforms.u_resolution.value.set(window.innerWidth, window.innerHeight);
                ScrollTrigger.refresh();
            });
        }

        window.playIntroAnimation = function () {
            gsap.to(camera.position, { z: 5, duration: 2.5, ease: "expo.out", delay: 0.2 });
            if (heroGroup) gsap.from(heroGroup.rotation, { y: Math.PI * 1, z: 0.5, duration: 2.5, ease: "expo.out" });
        };

        function createHeroObject() {
            heroGroup = new THREE.Group();
            heroMaterials.planet = new THREE.MeshPhysicalMaterial({ roughness: 0.15, transmission: 0.6, thickness: 1.5, flatShading: true });
            heroGroup.add(new THREE.Mesh(new THREE.IcosahedronGeometry(1.2, 1), heroMaterials.planet));

            const rings = new THREE.Group(); rings.rotation.x = Math.PI / 2.5; rings.rotation.y = Math.PI / 12;
            heroMaterials.ringInner = new THREE.MeshBasicMaterial({ wireframe: true, side: THREE.DoubleSide, transparent: true });
            rings.add(new THREE.Mesh(new THREE.RingGeometry(1.6, 2.2, 64, 2), heroMaterials.ringInner));

            const pGeo = new THREE.BufferGeometry(); const pPos = new Float32Array(1200);
            for (let i = 0; i < 1200; i += 3) { const a = Math.random() * Math.PI * 2; const r = 2.3 + Math.random() * 0.8; pPos[i] = Math.cos(a) * r; pPos[i + 1] = Math.sin(a) * r; pPos[i + 2] = (Math.random() - 0.5) * 0.1; }
            pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
            heroMaterials.particles = new THREE.PointsMaterial({ size: 0.03, transparent: true });
            rings.add(new THREE.Points(pGeo, heroMaterials.particles));

            heroMaterials.ringOuter = new THREE.MeshBasicMaterial({ side: THREE.DoubleSide, transparent: true });
            rings.add(new THREE.Mesh(new THREE.RingGeometry(3.3, 3.35, 128), heroMaterials.ringOuter));

            heroGroup.add(rings); scene.add(heroGroup); heroGroup.position.set(3.5, 0, 0);
        }

        function setupScrollAnimation() {
            if (window.innerWidth < 1024) { heroGroup.position.set(1, 3, -5); heroGroup.scale.set(0.6, 0.6, 0.6); return; }
            gsap.registerPlugin(ScrollTrigger);
            let tl = gsap.timeline({ scrollTrigger: { trigger: "body", start: "top top", end: "bottom bottom", scrub: 1.5 } });
            tl.to(heroGroup.position, { x: -3.5, z: -2, y: 0.5, ease: "power1.inOut" }, 0.1);
            tl.to(heroGroup.position, { x: 0, z: -4, y: -1.0, ease: "power1.inOut" }, 0.5);
            tl.to(heroGroup.children[0].scale, { x: 0, y: 0, z: 0, ease: "power2.in" }, 0.4);
            tl.to(heroGroup.position, { x: 0, z: 0, y: 1.5, ease: "power1.inOut" }, 0.9);
            tl.to(heroGroup.children[0].scale, { x: 1, y: 1, z: 1, ease: "elastic.out(1, 0.5)" }, 0.85);
            tl.to(heroGroup.rotation, { y: Math.PI * 2, x: 0.5, ease: "none" }, 0);
        }

        function updateHeroTheme(dark) {
            if (!heroMaterials.planet) return;
            if (dark) {
                heroMaterials.planet.color.setHex(0x0f172a); heroMaterials.planet.emissive.setHex(0x06b6d4); heroMaterials.planet.emissiveIntensity = 0.2;
                heroMaterials.ringInner.color.setHex(0x0891b2); heroMaterials.particles.color.setHex(0x67e8f9); heroMaterials.ringOuter.color.setHex(0xffffff);
                lights.point.color.setHex(0xccfbf1); lights.rim.color.setHex(0x06b6d4);
            } else {
                heroMaterials.planet.color.setHex(0x3f2108); heroMaterials.planet.emissive.setHex(0xff5500); heroMaterials.planet.emissiveIntensity = 0.5;
                heroMaterials.ringInner.color.setHex(0xffaa00); heroMaterials.particles.color.setHex(0xffd700); heroMaterials.ringOuter.color.setHex(0xcc8800);
                lights.point.color.setHex(0xffaa66); lights.rim.color.setHex(0xffd700);
            }
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme); localStorage.setItem('theme', theme); isDark = theme === 'dark';
            if (mesh) gsap.to(mesh.material.uniforms.u_dark, { value: isDark ? 1.0 : 0.0, duration: 1.2, ease: "power2.inOut" });
            updateHeroTheme(isDark);
            document.querySelectorAll('.theme-toggle').forEach(btn => btn.classList.remove('active'));
            const btnId = theme === 'light' ? 'theme-light' : 'theme-dark';
            if (document.getElementById(btnId)) document.getElementById(btnId).classList.add('active');
        }

        function loadTheme() { const savedTheme = localStorage.getItem('theme') || 'light'; setTheme(savedTheme); }
        document.addEventListener('DOMContentLoaded', () => { initWebGL(); loadTheme(); });
    </script>

    <!-- === EDIT MODAL === -->
    <div id="edit-modal" class="fixed inset-0 z-[100] hidden items-center justify-center">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" onclick="closeEditModal()"></div>

        <!-- Modal Content -->
        <div
            class="relative w-full max-w-lg p-8 rounded-lg border border-gray-500/30 bg-[rgba(15,23,42,0.8)] backdrop-blur-xl shadow-2xl transform transition-all scale-95 opacity-0 modal-content">
            <h3 class="text-2xl font-bold mb-6 text-accent uppercase tracking-widest border-b border-gray-500/30 pb-2">
                Edit Item</h3>

            <form id="edit-form" class="space-y-4">
                <input type="hidden" id="edit-id" name="id">
                <input type="hidden" id="edit-type" name="type">

                <!-- Dynamic Fields -->
                <div id="group-title">
                    <label class="block text-xs font-mono text-secondary mb-1">Title / Name</label>
                    <input type="text" id="edit-title" name="title"
                        class="w-full p-3 text-sm bg-black/20 border border-gray-500/30 text-primary focus:border-accent outline-none transition-colors"
                        required>
                </div>

                <div id="group-subtitle">
                    <label id="label-subtitle" class="block text-xs font-mono text-secondary mb-1">Subtitle / Role /
                        Proficiency</label>
                    <input type="text" id="edit-subtitle" name="subtitle"
                        class="w-full p-3 text-sm bg-black/20 border border-gray-500/30 text-primary focus:border-accent outline-none transition-colors">
                </div>

                <div id="group-desc">
                    <label class="block text-xs font-mono text-secondary mb-1">Description</label>
                    <textarea id="edit-desc" name="description" rows="5"
                        class="w-full p-3 text-sm bg-black/20 border border-gray-500/30 text-primary focus:border-accent outline-none transition-colors resize-none"></textarea>
                </div>

                <!-- Actions -->
                <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-gray-500/30">
                    <button type="button" onclick="closeEditModal()"
                        class="px-6 py-2 text-xs font-mono uppercase border border-gray-500/30 hover:bg-white/10 transition-colors">Cancel</button>
                    <button type="submit"
                        class="save-btn-enhanced px-6 py-2 text-xs font-mono uppercase bg-accent text-btn-text hover:brightness-110 transition-all font-bold tracking-wider">Save
                        Changes</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast Container -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Custom Delete Modal -->
    <div id="delete-modal" class="fixed inset-0 z-[100] hidden items-center justify-center">
        <!-- Backdrop -->
        <div class="absolute inset-0 bg-black/60 backdrop-blur-sm" id="delete-backdrop"></div>

        <!-- Modal Content -->
        <div class="relative w-full max-w-lg p-8 rounded-lg border border-gray-500/30 bg-[rgba(15,23,42,0.8)] backdrop-blur-xl shadow-2xl transform transition-all scale-95 opacity-0 modal-content"
            id="delete-card">
            <h3
                class="text-2xl font-bold mb-6 text-[#ef4444] uppercase tracking-widest border-b border-gray-500/30 pb-2 font-oswald">
                DELETE ITEM</h3>

            <p class="text-gray-300 font-light text-sm leading-relaxed mb-8 font-mono" id="delete-message">
                Are you sure you want to delete this item? <br>
                <span
                    class="text-[#ef4444] font-bold mt-4 block uppercase tracking-widest text-xs border border-[#ef4444] p-2 inline-block bg-[rgba(239,68,68,0.1)]">⚠
                    This action cannot be undone.</span>
            </p>

            <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-gray-500/30">
                <button id="cancel-delete"
                    class="px-6 py-2 text-xs font-mono uppercase border border-gray-500/30 hover:bg-white/10 transition-colors text-white tracking-wider">Cancel</button>
                <button id="confirm-delete"
                    class="px-6 py-2 text-xs font-mono uppercase bg-[#ef4444] text-white hover:brightness-110 transition-all font-bold tracking-wider shadow-[0_0_20px_rgba(239,68,68,0.4)] hover:shadow-[0_0_30px_rgba(239,68,68,0.6)]">DELETE
                    PERMANENTLY</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>